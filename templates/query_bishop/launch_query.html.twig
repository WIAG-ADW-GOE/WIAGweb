{% extends 'base.html.twig' %}


{% block stylesheets %}
    {{ parent() }}
    <link rel="stylesheet" href="{{ asset('css/algolia-autocomplete.css') }}">
{% endblock %}
{% block javascripts %}
    {{ parent() }}
    <script src="https://cdn.jsdelivr.net/autocomplete.js/0/autocomplete.jquery.min.js"></script>
    <script src="{{ asset('js/query-bishop-autocomplete.js') }}"></script>
{% endblock %}
	  
{% block body %}
    <div class="container-fluid">
	<div class="mt-3"><h3>Suche nach Bischöfen</h3></div>
	{{ form_start(query_form, {'attr': {'id':'q_form'}}) }}
	    <div class="col-12 row">
		{% set form_elements %}
		{{  form_row(query_form.name) }}
		<div class="ml-2">{{ form_row(query_form.place) }}</div>
		<div class="ml-2">{{ form_row(query_form.year) }}</div>
		<div class="ml-2">{{ form_row(query_form.someid) }}</div>
		{% endset %}
		{{ form_elements }}
	    </div>
	    {% set fb_elements %}
	    {# add page forward and backward buttons #}
	    {% if count is defined and count > 0 %}
		<span class="ml-4">
		    <button type="submit" form="q_form" class="btn btn-secondary" {% if page < 2 %} disabled="disabled" {% endif %} name="page" value="{{ page - 1 }}">&#9204; zurück</button>
		    <button type="submit" form="q_form" class="btn btn-secondary" {% if page * limit > count%}  disabled="disabled" {% endif %} name="page" value="{{ page + 1 }}">vor &#9205;</button>
		</span>
	    {% endif %}
		{% endset %}

		<button type="submit" class="btn btn-primary">Suche</button>
		{{ fb_elements }}

		{% if query_form.facetPlaces is defined %}
		    <button class="btn btn-secondary ml-4" type="button" data-toggle="collapse" data-target="#facetPlaces" aria-expanded="false" aria-controls="collapseFacetPlaces">Filter nach Orten</button>
		    <div class="collapse" id="facetPlaces">
			<div class="card card-body container-fluid">
			    <div class="row row-cols-6">
				{% for place in query_form.facetPlaces %}
				    <div class="col-sm-2">{{ form_row(place) }}</div>
				{% endfor %}
			    </div>
			</div>
		    </div>
		{% endif %}
	    {{ form_end(query_form) }}
    </div>
    {% block list_results %}{% endblock %}

    {# add page forward and backward buttons after the result list #}
    {{ fb_elements }}

{% endblock %}
